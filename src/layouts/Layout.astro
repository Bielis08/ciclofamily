---
interface Props {
	title: string;
}

import '@fontsource-variable/montserrat';
// import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import { ClientRouter } from 'astro:transitions';
import SpeedInsights  from "@vercel/speed-insights/astro"
import Analytics from '@vercel/analytics/astro'
import '../styles/global.css'

const { title } = Astro.props;
---

<!doctype html>
<html class="bg-page-100" lang="es">
	<head>
		<meta charset="UTF-8" />
		<meta name="description" content="Astro description" />
		<meta name="viewport" content="width=device-width" />
		<meta name="google-site-verification" content="G5nl4VQUvHU_DD7UoGnpyiq8y4RJS9RGQ0JikrB8G_M" />
		<link rel="icon" href="/favicon.jpg" />
		<title>{title}</title>
	</head>
	<body>
		<!-- <Header /> -->
		<slot />
		<Footer />
		<ClientRouter />
		<SpeedInsights />
		<Analytics />
	</body>
</html>
<style is:global>
	html {
		font-family: 'Montserrat Variable', system-ui, sans-serif;
		scroll-behavior: smooth;
	}
</style>

<script type="module">
  function initCarruseles() {
    document.querySelectorAll('[data-carrusel]').forEach((el) => {
      const images = el.querySelectorAll('img');
      let current = 0;

      function showImage(i) {
        images.forEach((img, idx) => {
          img.style.opacity = idx === i ? '1' : '0';
        });
      }

      const prev = el.querySelector('[data-prev]');
      const next = el.querySelector('[data-next]');

      prev?.addEventListener('click', () => {
        current = (current - 1 + images.length) % images.length;
        showImage(current);
      });

      next?.addEventListener('click', () => {
        current = (current + 1) % images.length;
        showImage(current);
      });

      showImage(current);
    });
  }

  window.addEventListener('astro:after-swap', () => {
    initCarruseles();
  });

  window.addEventListener('DOMContentLoaded', () => {
    initCarruseles();
  });
</script>
